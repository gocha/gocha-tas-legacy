;---------------------------------------------------------------
; wemuview.hsp: Custom Viewer -- Win32 Main
;---------------------------------------------------------------

#include "winiio.hsp"

//----------------------------------------------------------
// 設定
//----------------------------------------------------------

#packopt name "s9xview" // 出力ファイル名

// TODO: DPMにpackするファイルをここに追加
#pack	"start.ax"

// 設定ファイル名
ini_fname = "emuview.ini"

// タイマーの呼び出し間隔(ms)
// 精度を上げると負荷も多くかかります
interval = 1000

//----------------------------------------------------------
// その他の定義
//----------------------------------------------------------
#packopt runtime "hsp3c.hrt"
#packopt hide 1
#packopt orgpath 1

// ウィンドウID
#const	WID_MAIN	0

// 設定ファイル名
ini_setfile ini_fname

// Win32 メッセージID
//#const	WM_TIMER	0x0113

//----------------------------------------------------------
// 初期化
//----------------------------------------------------------
*init
	gosub *win_create
	oncmd gosub *on_timer, WM_TIMER

//----------------------------------------------------------
// メインループ
//----------------------------------------------------------
*main
	stop

//----------------------------------------------------------
// ウィンドウの作成と初期化
//----------------------------------------------------------
*win_create
	screen WID_MAIN, 256, 224 : cls 4
	return

//----------------------------------------------------------
// タイマーの処理
//----------------------------------------------------------
*on_timer
	oncmd 0
	oncmd 1
	return
