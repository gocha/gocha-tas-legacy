
=Mistakes and possible improvements of test run=

* Sliding at the edge just before falling down is slower in most cases, because backdash can keep its effect in midair. (Beginning-Monastery)
* Monastery - Lacking backdash when entering the level (exiting previous level with sliding seems to disable that)
* Monastery - Secare (Sword) can be obtained at the long corridor which is before the boss room. I think it's faster because Banshee won't interrupt Shanoa.
* Monastery - Possibly, Magnes use in Arthroverta's room (the boss room) can be optimized a little more.
* Wygol Village - Less heart supply, because it can be recovered by absorbing Glyphs (+10).
* Ruvas Forest - Saving HPs for Kalidus Channel might save time. Glyph Union could be a time saver, because hearts can be recovered by absorbing Glyphs (+10).
* Kalidus Channel - It's hard to optimize this level tightly. Especially, I was annoyed at Merman's behavior.

=Memory Addresses=

021007A2-021007C1 : Treasure chests

==Treasure chests==

* 007C - Heart Repair
* 007D - Magical Ticket
* 00C1 - Sage
* 013B - Protect Ring (750G)

Monastery:
* 021007A8 - First treasure chest
* 021007AA - Last treasure chest

Minera Prison Island:
021007AA - First treasure chest
021007A2 - Second treasure chest
021007A6 - Fourth treasure chest (optional)
021007A8 - Sixth treasure chest (optional?; bottom path costs time a little?)
021007AE - Fifth treasure chest (optional; Bone Archer)
021007AC - Third treasure chest (optional; Axe Armor stands on the way)

=Scraps=

          #2 -- #3 #4 #1 #6 #5
          a2 a4 a6 a8 aa ac ae
86389c91: e8 -- 7d c1 7d 7d c2	4
2d0675bf: 7d -- 7d 7d c2 c2 be	5
0bfadae1: be -- c1 7d 7d c2 c2	3
d30ae5df: 7d -- 7d be c2 c1 be	6
c4897990: be -- e8 be 7d c1 7d	1
e3a90292: c1 -- c1 7d 13b be 7d	2

8136ddce
cead75dd


Potion 500G
Mind Up 300G
Magical Ticket 100G
Meat 290G


021007A2

C:
0083007e
007c0083
00be007d
00be00be

A:
007d00c7
007c007d
007e007e
00be007d

http://www.gamespot.com/ds/action/castlevaniaorderofecclesia/show_msgs.php?topic_id=m-1-46105317&pid=945837&page=12

It's probably humped to hell in the village -precisely- because there's not much happening there.
Shuffle up the RNG while the game is mostly idle, rather than give it CPU cycles when there's likely to be a bunch of stuff on screen all wanting their own CPU cycles.

Here's more information on the RNG than you could have ever wanted:

0x021011EC - Flag word; while bottom bit is true, the RNG routine is called many times each frame

0x021389C0 - Word (static) of random number; gets hashed into a short
Chance to acquire built from a scalar of luck (?); also a short
Has lock prevention using static constant integers

0x02033298 - Seed_Routine
First to write to RN
Called twice at boot
Called fifty times during file load
Called incessantly in Wygol Village (XD nice trick, Konami!)
Called twenty-five times when loading Training Hall
Called sporadically in empty rooms
Called incessantly in rooms with treasure chests
Called a whole bunch when you get hit by scythe traps (traps and/or enemies in general?)

.org Seed_Routine
ldr r2, =#0x021389C0 @Load pointer to RN
ldr r0, =#0x3243F6AD @A seeding constant
ldr r3, [r2] @Load base RN; initialized to garbage (usually 0)
ldr r1, =#0x1B0CB175 @Another seeding constant
mov r3, r3, asr #0x8 @Hashing opcode
mla r0, r3, r0, r1 @r0 = (Old RN >> * SEED_CONST_1 + SEED_CONST_2
str r0, [r2] @Update RN
bx lr

.org 0x0205C800
bge 0x0205C854
@---------------------------------------@Branch over drop code if RN is >= chance to get

Always get drops (based on comparison of RNG return and chance):

0205C800 00000000

Only works for Rotten Meat so far (O_o)

Always get drops (based on return value of RNG):

02033304 E3A00000
02033318 E3A00000

Gives 1G for every candle, guaranteed >.>
Makes second and third drops always appear (first drop instead of second if no second)

Looks like people without an Action Replay are just plain stuck farming. There is no humanly possible RNG exploit.

Well, I dunno...can people match the button presses they see in a say, YouTube video, precisely? Because that'd be the only way.


Treasure chests really screw with things.

Now, there is a SHORT moment when you're in places without treasure chests before the seeding routine is called again. You definitely won't have an easy time getting fixed drops from chests, but someone might be able to devise a way to get fixed drops from enemies. The enemies that would be susceptible to such an exploit would be limited, though, because it would be based on the levels' designs.

The Seed_Routine is equivalent or similar to Konami typing this in one of their (assuming they wrote the game in C++) .cpp files:

srand(* (int *) 0x021389C0); //If you don't know C++ then don't worry about it. Just know that this is how Konami is screwing with your ability to exploit the RNG.








I'm going to need 6 Magical Tickets (warp) this run. The occasions are:
Skeleton Cave
Minera Prison, when I backtrack to grab Aeon
Oblivion Ridge
Ecclesia, when Barlowe sends me to kill Albus
Mystery Manor, right after I kill Albus
Ecclesia, right after I kill Barlowe 


I get one for free in Kalidus. Then I need to manipulate 5 more or buy them.

(13888+13440+12992+12544+12096+11648+11200+10752+10304+9856+9408+8960)/12=11424
(13888+13440+12992+12544+12096+11648+11200+10752+10304+9856+9408+8960+8512)/13=11200
(13888+13440+12992+12544+12096+11648+0)/7=10944

100310 = GOLD (4)
1002B8 = MP (2)
1002BA = Max MP (2)

100D64 = 'total displayed INT'
100D50 = 'effective base INT'

100D38 = STR stat
100D3A = CON stat
100D3C = INT stat
100D3E = MND stat
100D40 = LCK stat
100D36 = your natural DEF stat (this is added to your DEF stat)
100D34 = your natural ATK stat (this shouldn't exist either. it is unused)

Your stats are recalculated when you level up. So you'll need to pause and unpause with these cheats on to get your godly stats back.

1002C0 = glyph equipped to 'Y'
1002C2 = glyph equipped to 'X'
1002C4 = glyph equipped to 'R'
1002D6 = what is displayed as being equipped to 'R'

Your weapons can be anything from 1 (starting weapon) to 49 or 50 (Dominus). Hacking them to 51-54 lets you use your transformation skills as Shanoa. "Weapon 51" is actually kind of awesome. For the R button the good values are 1 (Magnes), 2 (Paries), 3 (Voliticus), 4 (Black Panther), 23 (Dominus), and 24 (Agartha).

100458 = Lizard Tail (starting item)
100459 = Ordinary Rock
10045A = Serpent Scale
10045B = Glyph Union (starting item)
10045C = Glyph Sleeve
10045D = Book of Spirits

Set the relic's bytes to 255 to own the item and set it to ON.

10045E-100548 = inventory

Each byte is one item. The right nibble is the quantity. The left nibble, if odd, marks the item as found in the guide. For some reason the game likes to use '9' for this. So at the start of the game 10045E will have a value of 0x91. That means 1x Potion, and mark it as found in the guide. I recommend you open the memory viewer, put your cursor on 10045E, and then hold down the 9-key for a few seconds. (100485-100489 = colored drops.)

1003EA-100437 = glyphs

Same as inventory items. Just write 0x99 over each byte. *shrug*

1003CC-1003D0 = map availability

Write FF onto each byte. Interestingly, the maps are in a very different order than the order you play them in.

Things to watch:
10D728 = boss HP (2 bytes)
1007A2 = contents of the "first" random treasure chest (2 bytes)
A4, A6, A6, A8, AA, AC, AE = random chests 2-8, even if the map doesn't have that many.
100374 = game clock, time is in frames (4 bytes) 


02128C2E - Shanoa's hitbox - left
02128C32 - Shanoa's hitbox - right
021002B8 - Current MP
0210D728 - one of many enemy hp values, this one is used for the boss at least. 


Action Replay CODES
http://nintendods.cheats.de/cheat_ausgabe.php?id=305087




Misc Codes: = 9
[Max Kills (Select)]
94000130 FFFB0000
021005E8 0001869F
D2000000 00000000

[Max Kills on all Attack Types (Select)]
94000130 FFFB0000
D5000000 0000FFFF
C0000000 00000006
D7000000 0210031C
D2000000 00000000
D2000000 00000000

[All Modes Boss Rush and Bonus Feature (Select)]
94000130 FFFB0000
121DD060 00003FFF
D2000000 00000000

[Infinite Boss Rush Time]
021092B4 00000000

[Dominus Union doesn't kill you]
020A7764 E1A00000
020A766C E1A00000

[Checksum Bypass]
2202D060 00000001

[Can use Volaticus in Training Hall]
222C2072 00000070

[Glyph union becomes dominus]
221002C6 00000018

[R glyph becomes Albus bullets]
221002C4 00000018

<----------:>

Gold/Money Codes: = 4
[Max/Infinite Gold]
A2100310 00001A1A
02100310 05F5E0FF
D2000000 00000000

[Max/Infinite Gold (Select)]
94000130 FFFB0000
02100310 05F5E0FF
D2000000 00000000

[Max/Infinite Gold (L+R)]
94000130 FCFF0000
02100310 05F5E0FF
D2000000 00000000

[No Gold (L+R)]
94000130 FCFF0000
02100310 00000000
D2000000 00000000

<----------:>

Invincibility Codes: = 3
L+Up Activate, L+Down Deactivate:
[Invincibility]
94000130 FDBF0000
221098CE 00000000
D2000000 00000000
921098CE 00000000
221098C6 00000000
121098E2 00000709
021098E4 00000000
D2000000 00000000
94000130 FD7F0000
221098CE 00000004
D2000000 00000000
921098CE 00000004
221098C6 00000001
121098E2 00000000
021098E4 00000000
D2000000 00000000

L+Up Activate, L+Down Deactivate:
[Invincibility (Version 2)]
94000130 FDBF0000
221098CE 00000000
D2000000 00000000
921098CE 00000000
221098C6 00000000
121098E2 00000709
021098E4 00000000
D2000000 00000000
94000130 FD7F0000
221098CE 00000003
D2000000 00000000
921098CE 00000003
221098C6 00000001
121098E2 00000000
021098E4 00000000
221098CE 00000004
D2000000 00000000

Turns off Hit collision, Walk Through Enemies and Items:
[Infinite Hitstun]
221098E5 000000FF

<----------:>

HP Codes: = 5
[Infinite HP (ASM)]
0209B5B8 EBFD9290
02000000 E1D235FE
02000004 E1C235BC
02000008 E12FFF1E

[Max Current HP]
A2100310 00001A1A
121002B4 0000270F
D2000000 00000000

[Max HP (Select)]
94000130 FFFB0000
121002B6 0000270F
D2000000 00000000

[Infinite HP]
A2100310 00001A1A
DA000000 021002B6
D7000000 021002B4
D2000000 00000000

[Press SELECT to Refill HP]
94000130 FFFB0000
DA000000 021002B6
D7000000 021002B4
D2000000 00000000

<----------:>

= 5
[Infinite MP (ASM)]
0206AA28 00000000

[Max Current MP]
A2100310 00001A1A
121002B8 0000270F
D2000000 00000000

[Max MP (Select)]
94000130 FFFB0000
121002BA 0000270F
D2000000 00000000

[Infinite MP]
A2100310 00001A1A
DA000000 021002BA
D7000000 021002B8
D2000000 00000000

[Press SELECT to Refill MP]
94000130 FFFB0000
DA000000 021002BA
D7000000 021002B8
D2000000 00000000

<----------:>

= 5
[Infinite Hearts (ASM)]
0206AA50 00000000

[Max Current Hearts]
A2100310 00001A1A
121002BC 000003E7
D2000000 00000000

[Max Hearts (Select)]
94000130 FFFB0000
121002BE 000003E7
D2000000 00000000

[Infinite Hearts]
A2100310 00001A1A
DA000000 021002BE
D7000000 021002BC
D2000000 00000000

[Press SELECT to Refill Hearts]
94000130 FFFB0000
DA000000 021002BE
D7000000 021002BC
D2000000 00000000

<----------:>


= 4

[Must Be On: Button Activators]
52000000 E7FFDEFF
02000000 DEADBEEF
02000004 00000000
D0000000 00000000
52000000 DEADBEEF
94000130 FCFF0000
02000004 00000001
D2000000 00000000
52000000 DEADBEEF
94000130 FFFC0000
02000004 00000000
D2000000 00000000

[Infinite HP]
52000004 00000001
DA000000 021002B6
D7000000 021002B4
D2000000 00000000

[Infinite MP]
52000004 00000001
DA000000 021002BA
D7000000 021002B8
D2000000 00000000

[Infinite Hearts]
52000004 00000001
DA000000 021002BE
D7000000 021002BC
D2000000 00000000

<----------:>


= 11
[Max Stats]
94000130 FFFB0000
0210031C 270F270F
02100320 270F270F
02100324 270F270F
12100328 0000270F
020FFD38 03E703E7
020FFD3C 03E703E7
120FFD40 000003E7
020FFD48 03E703E7
D2000000 00000000

[Max Stats (Version 2)]
94000130 FFFB0000
D5000000 0000270F
C0000000 00000004
D7000000 0210031C
D2000000 00000000
120FFD38 0000270F
D5000000 000003E7
C0000000 00000003
D7000000 020FFD3A
D2000000 00000000
D2000000 00000000

[Level 99]
94000130 FFFB0000
221002B0 00000063
D2000000 00000000

[Max EXP]
94000130 FFFB0000
0210030C 0098967F
D2000000 00000000

[Max STR (999)]
94000130 FFFB0000
120FFD38 000003E7
D2000000 00000000

[Max CON (999)]
94000130 FFFB0000
120FFD3A 000003E7
D2000000 00000000

[Max INT (999)]
94000130 FFFB0000
120FFD3C 000003E7
D2000000 00000000

[Max MND (999)]
94000130 FFFB0000
120FFD3E 000003E7
D2000000 00000000

[Max LCK (999)]
94000130 FFFB0000
120FFD40 000003E7
D2000000 00000000

[Max LCK (10999)]
94000130 FFFB0000
120FFD40 0000270F
D2000000 00000000

[Max STR/CON/INT/MND/LCK ]
94000130 FFFB0000
020FFD38 03E703E7
020FFD3C 03E703E7
120FFD40 000003E7
D2000000 00000000

<----------:>

= 1

[All Maps 100%]
94000130 FFFB0000
D5000000 000000FF
C0000000 00000168
D8000000 02100144
D2000000 00000000

<----------:>

= 13
[All Consumable Items (Select)]
94000130 FFFB0000
D5000000 00009999
C0000000 00000037
D7000000 0210045E
D2000000 00000000

[All Equipment (Select)]
94000130 FFFB0000
D5000000 00000099
C0000000 00000079
D8000000 021004CF
D2000000 00000000


[Have All Glyphs (Select)]
94000130 FFFB0000
D5000000 00000091
C0000000 00000031
D8000000 021003EA
D2000000 00000000
94000130 FFFB0000
D5000000 00000091
C0000000 00000018
D8000000 02100420
D2000000 00000000

[All Relics (Select)]
94000130 FFFB0000
02100458 D1D1D1D1
1210045C 0000D1D1
D2000000 00000000

[All Skills (Select)]
94000130 FFFB0000
D5000000 00000091
C0000000 0000004E
D8000000 021003EA
D2000000 00000000

[Zombies drop Eyes of God or the Devil]
020B6390 01040103
120B63A2 0000FFFF


[All item drops have min rarity]
D5000000 0000FFFF
C0000000 00000078
D7000000 020B637E
DC000000 00000022
D2000000 00000000

[All Equipment and Items excluding Story Items (Select)]
94000130 FFFB0000
0210045C 19190000
02100460 19191919
02100464 19191919
02100468 15101010
0210046C 15151515
02100470 15151515
02100474 15151515
02100478 15151515
0210047C 15151515
02100480 15151515
02100484 15151515
02100488 15151515
0210048C 00000015
021004A0 15000000
021004A4 15151515
021004A8 15151515
021004AC 15151515
021004B0 15151515
021004B4 15151515
021004B8 15151515
021004CC 15000000
021004D0 15151515
021004D4 15151515
021004D8 15151515
021004DC 15151515
021004E0 15151515
021004E4 15151515
021004E8 15150015
021004EC 15151515
021004F0 15151515
021004F4 15151515
021004F8 15151515
021004FC 15151515
02100500 15151515
02100504 15151515
02100508 15151515
0210050C 15150000
02100510 15151515
02100514 15151515
02100518 15151515
0210051C 15151515
02100520 15001515
02100524 15151515
02100528 15151515
0210052C 15151515
02100530 15151515
02100534 15151515
02100538 15151515
0210053C 15151515
02100540 15151515
02100544 15151515
02100548 00000015
D2000000 00000000

[All Glyphs excluding Story Glyphs (Select)]
94000130 FFFB0000
021003E8 11110000
021003EC 11111111
021003F0 11111111
021003F4 11111111
021003F8 11111111
021003FC 11111111
02100400 11111111
02100404 00111111
02100408 11111111
0210040C 11110011
02100410 11111111
02100414 11111111
02100418 00001111
02100424 11111111
02100428 11111111
0210042C 11111111
02100430 11111111
02100434 00111111
D2000000 00000000


[Enable 'Queen of Heart' Head Gear (Select)]
94000130 FFFB0000
0210050C 15150015
D2000000 00000000

[Resupply red/blue/green/blue/white drops (Select)]
94000130 FFFB0000
02100484 19191915
02100488 15151919
D2000000 00000000


[Infinite Max Up Items (Select)]
94000130 FFFB0000
02100468 15111111
D2000000 00000000

[Remove the Max Up Items (Start)]
94000130 FFF70000
02100468 15101010
D2000000 00000000

<----------:>

= 4
[Infinite Jumps]
92109932 00000001
12109932 00000002
D2000000 00000000


[Infinite Double Jumps (ASM)]
0204E21C E2411000
02046E14 E2400000

[Enable Double Jumps]
92109934 00000000
12109934 00000004
D2000000 00000000

[Push Up + B for Moon Jump]
94000130 FFBD0000
02109860 FFFFB000
D2000000 00000000

<----------:>

= 4

[Complete Enemies List]
94000130 FFFB0000
02100344 FFFFFFFF
02100348 FFFFFFFF
0210034C FFFFFFFF
02100350 FFFFFFFF
D2000000 00000000


[Incomplete Enemies' Drop List ]
94000130 FFFB0000
D5000000 000000FF
C0000000 0000001C
D8000000 02100354
D2000000 00000000
D2000000 00000000


[Complete Villagers List]
94000130 FFFB0000
02100388 FFFFFFFF
0210038C FFFFFFFF
12100390 0000FFFF
22100392 000000FF
D2000000 00000000


[Complete Enemies' Drop List ]
94000130 FFFB0000
C0000000 00000033
02100354 FFFFFFFF
DC000000 00000004
D2000000 00000000

<----------:>

= 18
[x2]
0205C53C E0820100

[x4]
0205C53C E0820180

[x8]
0205C53C E0820200

[x16]
0205C53C E0820280

[x32]
0205C53C E0820300

[x64]
0205C53C E0820380

[x128]
0205C53C E0820400

[x256]
0205C53C E0820480

[x512]
0205C53C E0820500

[x1024]
0205C53C E0820580

[x2048]
0205C53C E0820600

[x4096]
0205C53C E0820680

[x8192]
0205C53C E0820700

[x16384]
0205C53C E0820780

[x32768]
0205C53C E0820800

[Quick EXP Gain]
2210030C 000000FF

[Super Quick EXP Gain]
1210030C 0000FFFF

[Instant Max EXP]
0205C548 E585105C

<----------:>

= 1
[Press L+R to Reset Time]
94000130 FCFF0000
02100374 00000030
D2000000 00000000

<----------:>

= 2
[Japanese]
2215A8E4 00000000

[English]
2215A8E4 00000001
